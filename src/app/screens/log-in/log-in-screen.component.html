<div class="app-log-in-screen">
  <div class="app-log-in-screen__card">
    <div class="app-log-in-screen__card__header">
      <h1 class="app-log-in-screen__card__header__app-name">
        Tab Wheel
      </h1>
      <h2 class="app-log-in-screen__card__header__title">
        Log in to play
      </h2>
    </div>
    <div class="app-log-in-screen__card__body">
      <form
        [formGroup]="form"
        (ngSubmit)="onSubmit()"
        (keydown.enter)="onSubmit()"
        class="app-log-in-screen__card__body__form"
      >
        <div class="input-group">
          <label class="input-group__label">Email:</label>
          <input
            formControlName="email"
            class="input-group__input"
          />
          <div
            *ngIf="
              form.get('email')?.invalid &&
              form.get('email')?.touched
            "
            class="input-group__error"
          >
            <small
              *ngIf="
                form.get('email')?.errors?.['required']
              "
              >Email is required.</small
            >
            <small
              *ngIf="form.get('email')?.errors?.['email']"
              >Invalid email format.</small
            >
          </div>
        </div>

        <div class="input-group">
          <label class="input-group__label"
            >Password:</label
          >
          <input
            type="password"
            formControlName="password"
            autocomplete="off"
            class="app-log-in-screen__card__body__form input-group__input"
          />
          <div
            *ngIf="
              form.get('password')?.invalid &&
              form.get('password')?.touched
            "
            class="input-group__error"
          >
            <small
              *ngIf="
                form.get('password')?.errors?.['required']
              "
              >Password is required.</small
            >
            <small
              *ngIf="
                form.get('password')?.errors?.['minlength']
              "
              >Must be at least 2 characters.</small
            >
          </div>
        </div>

        <button
          type="submit"
          [disabled]="form.invalid"
          class="app-log-in-screen__card__body__form__submit-button"
        >
          <ng-container
            *ngIf="
              loadingState !== LoadingState.LOADING;
              else loading
            "
          >
            Let's play
          </ng-container>
        </button>
      </form>
    </div>
  </div>
</div>

<ng-template #loading>
  <span class="spinner"></span>
</ng-template>
